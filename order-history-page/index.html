<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Order History | IE104 Restaurant</title>

    <!-- CSS global -->
    <link rel="stylesheet" href="../style/reset.css" />
    <link rel="stylesheet" href="../style/style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Libre+Bodoni:ital,wght@0,400..700;1,400..700&family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap"
      rel="stylesheet"
    />

    <!-- Global Animation System -->
    <link rel="stylesheet" href="../style/animations.css" />
    <script src="../assets/script/scroll-animations.js"></script>

    <!-- CSS header -->
    <link rel="stylesheet" href="../partials/header.css" />
    <!-- CSS footer -->
    <link rel="stylesheet" href="../partials/footer.css" />

    <!-- Font Awesome -->
    <script
      src="https://kit.fontawesome.com/eef96f1e29.js"
      crossorigin="anonymous"
    ></script>

    <!-- Global Loading System -->
    <script src="../assets/script/global-loader.js"></script>

    <!-- Notification System -->
    <link rel="stylesheet" href="../style/notification-system.css" />
    <script src="../assets/script/notification-system.js"></script>

    <!-- link header and footer -->
    <script src="../assets/script/include-partials.js" defer></script>
    <script src="../assets/script/header.js"></script>

    <!-- Advanced Features - Core Utilities -->
    <script src="../assets/script/utils/constants.js"></script>
    <script src="../assets/script/utils/storage-manager.js"></script>
    <script src="../assets/script/utils/event-bus.js"></script>

    <!-- Advanced Features - Styles -->
    <link rel="stylesheet" href="../assets/style/features/dark-theme.css" />
    <link rel="stylesheet" href="../assets/style/features/order-modal.css" />

    <!-- Order History Page Styles -->
    <link rel="stylesheet" href="./order-history-page.css" />
  </head>

  <body>
    <!-- ========== HEADER ========== -->
    <div data-include="/partials/header.html"></div>

    <!-- ========== ORDER HISTORY PAGE CONTENT ========== -->
    <main class="history-page">
      <div class="history-page__container">
        <!-- Page Header -->
        <div class="history-page__header animate-fade">
          <h1 class="history-page__title">Order History</h1>
          <p class="history-page__subtitle">View and reorder from your past orders</p>
        </div>

        <!-- Statistics Dashboard -->
        <div id="order-stats" class="history__stats">
          <!-- Stats will be loaded here -->
        </div>

        <!-- Search & Filters -->
        <div class="history__controls">
          <div class="history__search">
            <input
              type="text"
              id="order-search"
              class="history__search-input"
              placeholder="Search by order ID or item name..."
              autocomplete="off"
            />
            <svg class="history__search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8"></circle>
              <path d="m21 21-4.35-4.35"></path>
            </svg>
          </div>

          <div class="history__filters">
            <button class="history__filter-btn history__filter-btn--active" data-filter="all">All Orders</button>
            <button class="history__filter-btn" data-filter="week">This Week</button>
            <button class="history__filter-btn" data-filter="month">This Month</button>
            <button class="history__filter-btn" data-filter="year">This Year</button>
          </div>
        </div>

        <!-- Order History Container -->
        <div id="order-history-container" class="history__orders">
          <!-- Orders will be loaded here -->
        </div>

        <!-- No Orders Message -->
        <div id="no-orders-message" class="no-orders" style="display: none;">
          <div class="no-orders__icon">üçΩÔ∏è</div>
          <h2 class="no-orders__title">No Order History Yet</h2>
          <p class="no-orders__text">Start ordering to build your history!</p>
          <a href="../menupage/index.html" class="no-orders__btn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 3h18v18H3zM3 9h18M9 21V9"></path>
            </svg>
            Browse Menu
          </a>
        </div>
      </div>
    </main>

    <!-- ========== FOOTER ========== -->
    <div data-include="/partials/footer.html"></div>

    <!-- i18n Service -->
    <script src="../assets/script/i18n-service.js"></script>

    <!-- Advanced Features Scripts -->
    <script src="../assets/script/features/dark-mode-toggle.js"></script>
    <script src="../assets/script/features/order-history-manager.js"></script>

    <!-- Order History Page Script-->
    <script type="module" src="./order-history-page.js"></script>
  </body>
</html>
